# Improved-Finite-Difference-Method-for-Barrier-Options
Non-uniform Finite Difference Method to price barrier options.

=============================================For Your Information================================================

This method is designed for barrier options(single or double), american single-barrier type supported.
Vanilla options can be regarded as a down-and-out barrier options with barrier close to zero. So by setting a
barrier equals to something like 0.000001 so the method solves vanilla options perfectly. Check the demo.

=========DEMO RESULT=========

All test are for vanilla options(Single down-and-out barrier options with lower barrier close to zero).

"""
Test for call options
 
strike        analycal          trivial_pde        improved_pde      mc
80            24.5888354439     24.7412285125     24.5914777202     25.3872775504
81            23.7408402658     23.89190531     23.7433355194     23.6718302425
82            22.9041972857     23.0538008989     22.9067030056     22.8950990733
83            22.0796043627     22.2276858197     22.0820032236     21.9421717267
84            21.2677459078     21.4141488725     21.2700179373     21.4544288249
85            20.4692879214     20.613933151     20.4715465379     20.5330406407
86            19.6848732233     19.8276531327     19.6869805344     19.5697152414
87            18.9151169354     19.0558814768     18.9171383886     19.4189661744
88            18.1606022722     18.2993299056     18.1625832475     18.1818058988
89            17.4218766863     17.5584132804     17.423662222     17.790286839
90            16.6994484084     16.8337203972     16.7012086021     16.1736175671
91            15.9937834129     16.1257208962     15.9954750122     16.4778141705
92            15.3053028312     15.4347607441     15.3067583857     14.8299701861
93            14.6343808292     14.7613789328     14.6358872684     14.7874960456
94            13.9813429532     14.1057557407     13.982753601     13.5050263655
95            13.3464649459     13.4682323129     13.3476886115     12.9885818361
96            12.7299720243     12.8490781599     12.7312491595     12.7219349534
97            12.132038605     12.2483680592     12.1331952381     11.5097986875
98            11.5527884587     11.6663825077     11.5538399431     11.660273078
99            10.9922952697     11.1030818045     10.9933809556     10.8183349783
100            10.4505835722     10.5585193941     10.4514388087     10.6035687113
101            9.92763003288     10.0327577157     9.92855612481     10.5182862627
102            9.42336504607     9.52560585685     9.42430551466     8.98947555543
103            8.93767460617     9.03708622578     8.93845639937     9.66077051663
104            8.47040242183     8.56696939017     8.47125248666     8.9766261473
105            8.02135223514     8.11504775658     8.02219690444     8.60174231722
106            7.59029030993     7.68120851447     7.59096887151     7.3949925938
107            7.17694805378     7.26504648984     7.1777682137     6.84181045379
108            6.78102473986     6.86637018708     6.78182049934     6.54646243636
109            6.40219029585     6.48481719637     6.40290614019     5.98306756239
110            6.04008812972     6.11998311764     6.04091759628     6.06666171994
111            5.69433796382     5.77163268838     5.69512531458     5.65462140164
112            5.36453865121     5.43922129121     5.3653220264     5.17253129863
113            5.0502709509     5.12241014826     5.05113937674     5.46522696535
114            4.7511002407     4.82076760729     4.75191054442     4.51717228764
115            4.46657914943     4.53377902827     4.46744834391     4.6942890454
116            4.19625009253     4.2611187618     4.19717636339     3.88965338824
117            3.9396476975     4.00220401063     3.94050187481     3.70774069228
118            3.6963011083     3.7566098855     3.69726272269     3.47925534364
119            3.46573615996     3.52389160193     3.46672849132     3.30583736235
120            3.24747741656     3.30350144467     3.24840689864     3.46615174764

------------over----------

Test for put options
 
strike        analycal          trivial_pde        improved_pde      mc
80            0.687189403985     0.676029967856     0.686900089757     0.737937382526
81            0.790423650323     0.777847627975     0.789988280166     0.868092708121
82            0.905010094716     0.890884079429     0.904586157545     0.864227522705
83            1.03164659628     1.01590986269     1.03111676669     0.983506810086
84            1.17101756585     1.15351377804     1.17036187156     1.33155477253
85            1.32378900394     1.30443891912     1.32312086333     1.43437785777
86            1.49060373036     1.46929976333     1.48978525098     1.64733481492
87            1.67207686698     1.64866896997     1.67117349637     1.34533616386
88            1.86879162827     1.84325826139     1.86784874639     1.86757102674
89            2.08129546685     2.05348249869     2.08015811205     2.18953669556
90            2.31009661348     2.27993047804     2.3089348833     2.31481912425
91            2.55566104243     2.52307183959     2.5544316846     2.95980672337
92            2.81840988531     2.78325255009     2.81694544926     2.78139744551
93            3.09871730779     3.06101160131     3.09730472314     2.760644579
94            3.39690885622     3.35652927174     3.39540144683     3.21150166229
95            3.71326027345     3.67014670642     3.7115668485     4.09660421198
96            4.04799677638     4.00213341601     4.04635778773     4.09857584056
97            4.4012927816     4.35256417785     4.39953425745     4.50117678468
98            4.77327205982     4.72171948892     4.77140935361     4.86229622406
99            5.16400829529     5.10955964828     5.16218075727     5.02450209693
100            5.57352602226     5.51613810037     5.57146900154     5.75098463694
101            6.00180190745     5.94151728457     5.99981670883     5.97324158149
102            6.44876634514     6.38550628824     6.44679648984     6.45674714498
103            6.91430532974     6.84812751971     6.91217776571     6.92818629377
104            7.39826256991     7.32915154665     7.39620424416     7.18933602697
105            7.90044180772     7.82837077561     7.8983790531     7.37883141205
106            8.420609307     8.34567239604     8.41838141133     8.22644871465
107            8.95849647536     8.88065123396     8.95641114469     8.82200129652
108            9.51380258593     9.43311579374     9.51169382149     9.69605647053
109            10.0861975664     10.0027036656     10.0840098535     10.1164570836
110            10.6753248248     10.5890104494     10.6732517008     11.1422581681
111            11.2808040834     11.1918008827     11.2786898102     10.8941972511
112            11.9022341953     11.8105303481     11.9001169132     10.9419942202
113            12.5391959195     12.4448600676     12.5371646547     12.2038229941
114            13.1912546338     13.0943583892     13.1891662135     13.1958492092
115            13.857962967     13.7585106727     13.8559344042     13.2692374301
116            14.5388633346     14.4369912688     14.5368928148     13.6371089194
117            15.2334903641     15.1292173802     15.2314487174     15.7675530426
118            15.9413731994     15.8347641176     15.9394399565     15.5872228131
119            16.6620376755     16.5531866966     16.6601361163     17.1882049445
120            17.3950083566     17.2839374019     17.3930449147     17.2693057082
"""
